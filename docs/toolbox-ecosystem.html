<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Toolbox Ecosystem | Ocean Health Index Toolbox Training</title>
  <meta name="description" content="This is the official Ocean Health Index Toolbox training." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Toolbox Ecosystem | Ocean Health Index Toolbox Training" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the official Ocean Health Index Toolbox training." />
  <meta name="github-repo" content="ohi-science/ohi-trainings" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Toolbox Ecosystem | Ocean Health Index Toolbox Training" />
  
  <meta name="twitter:description" content="This is the official Ocean Health Index Toolbox training." />
  

<meta name="author" content="Ocean Health Index Team" />


<meta name="date" content="2021-03-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="toolbox.html"/>
<link rel="next" href="prep-data.html"/>
<script src="libs/header-attrs-2.7.2/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#what-to-expect"><i class="fa fa-check"></i><b>2.2</b> What to expect</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#tailor-the-conceptual-framework"><i class="fa fa-check"></i><b>2.2.1</b> Tailor the Conceptual Framework</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#tailor-the-ohi-toolbox"><i class="fa fa-check"></i><b>2.2.2</b> Tailor the OHI Toolbox</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#tools-and-resources"><i class="fa fa-check"></i><b>2.3</b> Tools and Resources</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro.html"><a href="intro.html#google-drive-folder"><i class="fa fa-check"></i><b>2.3.1</b> Google Drive folder</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro.html"><a href="intro.html#ohi-toolbox"><i class="fa fa-check"></i><b>2.3.2</b> OHI Toolbox</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="gathering-data.html"><a href="gathering-data.html"><i class="fa fa-check"></i><b>3</b> Planning and Gathering Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="gathering-data.html"><a href="gathering-data.html#overview-and-resources"><i class="fa fa-check"></i><b>3.1</b> Overview and Resources</a></li>
<li class="chapter" data-level="3.2" data-path="gathering-data.html"><a href="gathering-data.html#where-to-start"><i class="fa fa-check"></i><b>3.2</b> Where to start</a></li>
<li class="chapter" data-level="3.3" data-path="gathering-data.html"><a href="gathering-data.html#goals-modeling-status-and-trend"><i class="fa fa-check"></i><b>3.3</b> Goals: modeling status and trend</a></li>
<li class="chapter" data-level="3.4" data-path="gathering-data.html"><a href="gathering-data.html#resilience"><i class="fa fa-check"></i><b>3.4</b> Resilience</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="gathering-data.html"><a href="gathering-data.html#types-of-resilience"><i class="fa fa-check"></i><b>3.4.1</b> Types of Resilience</a></li>
<li class="chapter" data-level="3.4.2" data-path="gathering-data.html"><a href="gathering-data.html#how-to-begin"><i class="fa fa-check"></i><b>3.4.2</b> How to begin</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="planner-guide.html"><a href="planner-guide.html"><i class="fa fa-check"></i><b>4</b> OHI Planner</a>
<ul>
<li class="chapter" data-level="4.1" data-path="planner-guide.html"><a href="planner-guide.html#overview-1"><i class="fa fa-check"></i><b>4.1</b> Overview</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="planner-guide.html"><a href="planner-guide.html#prerequisites"><i class="fa fa-check"></i><b>4.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="planner-guide.html"><a href="planner-guide.html#data-planner-spreadsheet"><i class="fa fa-check"></i><b>4.2</b> Data Planner spreadsheet</a></li>
<li class="chapter" data-level="4.3" data-path="planner-guide.html"><a href="planner-guide.html#status-data-tab"><i class="fa fa-check"></i><b>4.3</b> Status Data tab</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="planner-guide.html"><a href="planner-guide.html#goals-and-subgoals"><i class="fa fa-check"></i><b>4.3.1</b> Goals and subgoals</a></li>
<li class="chapter" data-level="4.3.2" data-path="planner-guide.html"><a href="planner-guide.html#model-data-spatial-boundaries"><i class="fa fa-check"></i><b>4.3.2</b> Model + Data + Spatial Boundaries</a></li>
<li class="chapter" data-level="4.3.3" data-path="planner-guide.html"><a href="planner-guide.html#examples"><i class="fa fa-check"></i><b>4.3.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="planner-guide.html"><a href="planner-guide.html#chapter-recap"><i class="fa fa-check"></i><b>4.4</b> Chapter Recap</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="toolbox.html"><a href="toolbox.html"><i class="fa fa-check"></i><b>5</b> OHI Toolbox</a>
<ul>
<li class="chapter" data-level="5.1" data-path="toolbox.html"><a href="toolbox.html#the-ohi-toolbox-and-open-data-science"><i class="fa fa-check"></i><b>5.1</b> The OHI Toolbox and open data science</a></li>
<li class="chapter" data-level="5.2" data-path="toolbox.html"><a href="toolbox.html#how-you-will-work"><i class="fa fa-check"></i><b>5.2</b> How you will work</a></li>
<li class="chapter" data-level="5.3" data-path="toolbox.html"><a href="toolbox.html#requesting-ohi-repositories"><i class="fa fa-check"></i><b>5.3</b> Requesting OHI repositories</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html"><i class="fa fa-check"></i><b>6</b> Toolbox Ecosystem</a>
<ul>
<li class="chapter" data-level="6.1" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#overview-2"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#prerequisites-1"><i class="fa fa-check"></i><b>6.2</b> Prerequisites</a></li>
<li class="chapter" data-level="6.3" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#repository-home-folder-ex-toolbox-demo"><i class="fa fa-check"></i><b>6.3</b> Repository home folder (ex: <code>toolbox-demo</code>)</a></li>
<li class="chapter" data-level="6.4" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#prep-folder"><i class="fa fa-check"></i><b>6.4</b> Prep folder</a></li>
<li class="chapter" data-level="6.5" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#scenario-folder-ex-region2016"><i class="fa fa-check"></i><b>6.5</b> Scenario folder (ex: <code>region2016</code>)</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#layers-folder-layers.csv"><i class="fa fa-check"></i><b>6.5.1</b> layers folder &amp; layers.csv</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#conf-folder"><i class="fa fa-check"></i><b>6.6</b> conf folder</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#functions.r"><i class="fa fa-check"></i><b>6.6.1</b> functions.R</a></li>
<li class="chapter" data-level="6.6.2" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#scenario_data_years.csv"><i class="fa fa-check"></i><b>6.6.2</b> scenario_data_years.csv</a></li>
<li class="chapter" data-level="6.6.3" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#pressures-resilience"><i class="fa fa-check"></i><b>6.6.3</b> pressures &amp; resilience</a></li>
<li class="chapter" data-level="6.6.4" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#goals.csv"><i class="fa fa-check"></i><b>6.6.4</b> goals.csv</a></li>
<li class="chapter" data-level="6.6.5" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#config.r"><i class="fa fa-check"></i><b>6.6.5</b> config.R</a></li>
<li class="chapter" data-level="6.6.6" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#conf-folder-recap"><i class="fa fa-check"></i><b>6.6.6</b> conf folder recap</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#calculate_scores.rmd"><i class="fa fa-check"></i><b>6.7</b> calculate_scores.Rmd</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#calculate_scores.r"><i class="fa fa-check"></i><b>6.7.1</b> calculate_scores.R</a></li>
<li class="chapter" data-level="6.7.2" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#configure_toolbox.r"><i class="fa fa-check"></i><b>6.7.2</b> configure_toolbox.R</a></li>
<li class="chapter" data-level="6.7.3" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#install_ohicore.r"><i class="fa fa-check"></i><b>6.7.3</b> install_ohicore.R</a></li>
<li class="chapter" data-level="6.7.4" data-path="toolbox-ecosystem.html"><a href="toolbox-ecosystem.html#recap"><i class="fa fa-check"></i><b>6.7.4</b> Recap</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="prep-data.html"><a href="prep-data.html"><i class="fa fa-check"></i><b>7</b> Preparing data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="prep-data.html"><a href="prep-data.html#overview-3"><i class="fa fa-check"></i><b>7.1</b> Overview</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="prep-data.html"><a href="prep-data.html#prerequisites-2"><i class="fa fa-check"></i><b>7.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="prep-data.html"><a href="prep-data.html#data-formatting-requirements"><i class="fa fa-check"></i><b>7.2</b> Data Formatting requirements</a></li>
<li class="chapter" data-level="7.3" data-path="prep-data.html"><a href="prep-data.html#data-wrangling"><i class="fa fa-check"></i><b>7.3</b> Data Wrangling</a></li>
<li class="chapter" data-level="7.4" data-path="prep-data.html"><a href="prep-data.html#save-and-register-data-layers"><i class="fa fa-check"></i><b>7.4</b> Save and register data layers</a></li>
<li class="chapter" data-level="7.5" data-path="prep-data.html"><a href="prep-data.html#register-data-layers-in-layers.csv"><i class="fa fa-check"></i><b>7.5</b> Register data layers in <code>layers.csv</code></a></li>
<li class="chapter" data-level="7.6" data-path="prep-data.html"><a href="prep-data.html#organizing-metadata"><i class="fa fa-check"></i><b>7.6</b> Organizing metadata</a></li>
<li class="chapter" data-level="7.7" data-path="prep-data.html"><a href="prep-data.html#data-prep-vs.-functions.r"><i class="fa fa-check"></i><b>7.7</b> Data prep vs. functions.r</a></li>
<li class="chapter" data-level="7.8" data-path="prep-data.html"><a href="prep-data.html#chapter-recap-1"><i class="fa fa-check"></i><b>7.8</b> Chapter Recap:</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="calcs-basic.html"><a href="calcs-basic.html"><i class="fa fa-check"></i><b>8</b> Calculations: basic workflow</a>
<ul>
<li class="chapter" data-level="8.1" data-path="calcs-basic.html"><a href="calcs-basic.html#overview-4"><i class="fa fa-check"></i><b>8.1</b> Overview</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="calcs-basic.html"><a href="calcs-basic.html#prerequisites-3"><i class="fa fa-check"></i><b>8.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="calcs-basic.html"><a href="calcs-basic.html#review-the-toolbox-file-ecosystem"><i class="fa fa-check"></i><b>8.2</b> Review the Toolbox file ecosystem</a></li>
<li class="chapter" data-level="8.3" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-with-out-of-the-box-data-and-models"><i class="fa fa-check"></i><b>8.3</b> Calculate with ‘out-of-the-box’ data and models</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="calcs-basic.html"><a href="calcs-basic.html#install-packages-including-ohicore"><i class="fa fa-check"></i><b>8.3.1</b> Install packages, including <code>ohicore</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="calcs-basic.html"><a href="calcs-basic.html#load-r-packages"><i class="fa fa-check"></i><b>8.3.2</b> Load R packages</a></li>
<li class="chapter" data-level="8.3.3" data-path="calcs-basic.html"><a href="calcs-basic.html#configure-the-toolbox"><i class="fa fa-check"></i><b>8.3.3</b> Configure the Toolbox</a></li>
<li class="chapter" data-level="8.3.4" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-scores"><i class="fa fa-check"></i><b>8.3.4</b> Calculate Scores</a></li>
<li class="chapter" data-level="8.3.5" data-path="calcs-basic.html"><a href="calcs-basic.html#save-scores-variable-as-scores.csv"><i class="fa fa-check"></i><b>8.3.5</b> Save scores variable as <code>scores.csv</code></a></li>
<li class="chapter" data-level="8.3.6" data-path="calcs-basic.html"><a href="calcs-basic.html#error-messages"><i class="fa fa-check"></i><b>8.3.6</b> Error messages</a></li>
<li class="chapter" data-level="8.3.7" data-path="calcs-basic.html"><a href="calcs-basic.html#create-figures"><i class="fa fa-check"></i><b>8.3.7</b> Create figures</a></li>
<li class="chapter" data-level="8.3.8" data-path="calcs-basic.html"><a href="calcs-basic.html#recap-of-first-calculate_scores.rmd-run"><i class="fa fa-check"></i><b>8.3.8</b> Recap of first <code>calculate_scores.Rmd</code> run</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-with-tailored-data"><i class="fa fa-check"></i><b>8.4</b> Calculate with tailored data</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="calcs-basic.html"><a href="calcs-basic.html#prepare-and-save-our-data-layer"><i class="fa fa-check"></i><b>8.4.1</b> Prepare and save our data layer</a></li>
<li class="chapter" data-level="8.4.2" data-path="calcs-basic.html"><a href="calcs-basic.html#register-in-layers.csv"><i class="fa fa-check"></i><b>8.4.2</b> Register in <code>layers.csv</code></a></li>
<li class="chapter" data-level="8.4.3" data-path="calcs-basic.html"><a href="calcs-basic.html#register-in-scenario_data_years.csv"><i class="fa fa-check"></i><b>8.4.3</b> Register in <code>scenario_data_years.csv</code></a></li>
<li class="chapter" data-level="8.4.4" data-path="calcs-basic.html"><a href="calcs-basic.html#rerun-calculate_scores.rmd"><i class="fa fa-check"></i><b>8.4.4</b> Rerun <code>calculate_scores.Rmd</code></a></li>
<li class="chapter" data-level="8.4.5" data-path="calcs-basic.html"><a href="calcs-basic.html#check-our-work-plot-and-sync"><i class="fa fa-check"></i><b>8.4.5</b> Check our work, plot, and sync</a></li>
<li class="chapter" data-level="8.4.6" data-path="calcs-basic.html"><a href="calcs-basic.html#recap-of-second-calculate_scores.rmd-run"><i class="fa fa-check"></i><b>8.4.6</b> Recap of second <code>calculate_scores.Rmd</code> run</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="calcs-basic.html"><a href="calcs-basic.html#explore-configure-toolbox"><i class="fa fa-check"></i><b>8.5</b> Explore Configure Toolbox</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="calcs-basic.html"><a href="calcs-basic.html#ohicoreconf"><i class="fa fa-check"></i><b>8.5.1</b> <code>ohicore::Conf()</code></a></li>
<li class="chapter" data-level="8.5.2" data-path="calcs-basic.html"><a href="calcs-basic.html#ohicorechecklayers"><i class="fa fa-check"></i><b>8.5.2</b> <code>ohicore::CheckLayers()</code></a></li>
<li class="chapter" data-level="8.5.3" data-path="calcs-basic.html"><a href="calcs-basic.html#ohicorelayers"><i class="fa fa-check"></i><b>8.5.3</b> <code>ohicore::Layers()</code></a></li>
<li class="chapter" data-level="8.5.4" data-path="calcs-basic.html"><a href="calcs-basic.html#assign-scenario-years"><i class="fa fa-check"></i><b>8.5.4</b> Assign scenario years</a></li>
<li class="chapter" data-level="8.5.5" data-path="calcs-basic.html"><a href="calcs-basic.html#recap-of-configure-toolbox"><i class="fa fa-check"></i><b>8.5.5</b> Recap of Configure Toolbox</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="calcs-basic.html"><a href="calcs-basic.html#explore-functions.r-goal-models"><i class="fa fa-check"></i><b>8.6</b> Explore <code>functions.R</code> goal models</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="calcs-basic.html"><a href="calcs-basic.html#load-specific-data-layers-with-aligndatayears"><i class="fa fa-check"></i><b>8.6.1</b> Load specific data layers with <code>AlignDataYears()</code></a></li>
<li class="chapter" data-level="8.6.2" data-path="calcs-basic.html"><a href="calcs-basic.html#goal-models"><i class="fa fa-check"></i><b>8.6.2</b> Goal models</a></li>
<li class="chapter" data-level="8.6.3" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-status"><i class="fa fa-check"></i><b>8.6.3</b> Calculate Status</a></li>
<li class="chapter" data-level="8.6.4" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-trend"><i class="fa fa-check"></i><b>8.6.4</b> Calculate Trend</a></li>
<li class="chapter" data-level="8.6.5" data-path="calcs-basic.html"><a href="calcs-basic.html#scores-variable-combining-status-and-trend"><i class="fa fa-check"></i><b>8.6.5</b> Scores variable: combining Status and Trend</a></li>
<li class="chapter" data-level="8.6.6" data-path="calcs-basic.html"><a href="calcs-basic.html#recap-of-exploring-functions.r"><i class="fa fa-check"></i><b>8.6.6</b> Recap of exploring <code>functions.R</code></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-with-tailored-models"><i class="fa fa-check"></i><b>8.7</b> Calculate with tailored models</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="calcs-basic.html"><a href="calcs-basic.html#restart-r-libraries-configure-toolbox"><i class="fa fa-check"></i><b>8.7.1</b> Restart R, Libraries, Configure Toolbox</a></li>
<li class="chapter" data-level="8.7.2" data-path="calcs-basic.html"><a href="calcs-basic.html#tailor-ao-goal-model"><i class="fa fa-check"></i><b>8.7.2</b> Tailor AO goal model</a></li>
<li class="chapter" data-level="8.7.3" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-scores-check-plot-and-sync"><i class="fa fa-check"></i><b>8.7.3</b> Calculate scores, check, plot, and sync</a></li>
<li class="chapter" data-level="8.7.4" data-path="calcs-basic.html"><a href="calcs-basic.html#recap-of-third-calculate_scores.rmd-run"><i class="fa fa-check"></i><b>8.7.4</b> Recap of third <code>calculate_scores.Rmd</code> run</a></li>
<li class="chapter" data-level="8.7.5" data-path="calcs-basic.html"><a href="calcs-basic.html#troubleshooting"><i class="fa fa-check"></i><b>8.7.5</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-with-tailored-data-and-models"><i class="fa fa-check"></i><b>8.8</b> Calculate with tailored data and models</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="calcs-basic.html"><a href="calcs-basic.html#prepare-and-save-our-new-data-layer"><i class="fa fa-check"></i><b>8.8.1</b> Prepare and save our new data layer</a></li>
<li class="chapter" data-level="8.8.2" data-path="calcs-basic.html"><a href="calcs-basic.html#register-in-layers.csv-1"><i class="fa fa-check"></i><b>8.8.2</b> Register in <code>layers.csv</code></a></li>
<li class="chapter" data-level="8.8.3" data-path="calcs-basic.html"><a href="calcs-basic.html#register-in-scenario_data_years.csv-1"><i class="fa fa-check"></i><b>8.8.3</b> Register in <code>scenario_data_years.csv</code></a></li>
<li class="chapter" data-level="8.8.4" data-path="calcs-basic.html"><a href="calcs-basic.html#configure-toolbox"><i class="fa fa-check"></i><b>8.8.4</b> Configure Toolbox</a></li>
<li class="chapter" data-level="8.8.5" data-path="calcs-basic.html"><a href="calcs-basic.html#update-the-ao-goal-model"><i class="fa fa-check"></i><b>8.8.5</b> Update the AO goal model</a></li>
<li class="chapter" data-level="8.8.6" data-path="calcs-basic.html"><a href="calcs-basic.html#calculate-scores-check-and-sync"><i class="fa fa-check"></i><b>8.8.6</b> Calculate scores, check, and sync</a></li>
<li class="chapter" data-level="8.8.7" data-path="calcs-basic.html"><a href="calcs-basic.html#recap-of-fourth-calculate_scores.rmd-run"><i class="fa fa-check"></i><b>8.8.7</b> Recap of fourth <code>calculate_scores.Rmd</code> run</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="calcs-basic.html"><a href="calcs-basic.html#chapter-recap-2"><i class="fa fa-check"></i><b>8.9</b> Chapter Recap</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="press-resil.html"><a href="press-resil.html"><i class="fa fa-check"></i><b>9</b> Pressures and Resilience</a>
<ul>
<li class="chapter" data-level="9.1" data-path="press-resil.html"><a href="press-resil.html#overview-5"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="press-resil.html"><a href="press-resil.html#identifying-indicators"><i class="fa fa-check"></i><b>9.2</b> Identifying indicators</a></li>
<li class="chapter" data-level="9.3" data-path="press-resil.html"><a href="press-resil.html#pressures"><i class="fa fa-check"></i><b>9.3</b> Pressures</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="press-resil.html"><a href="press-resil.html#pressures-data-layers"><i class="fa fa-check"></i><b>9.3.1</b> Pressures data layers</a></li>
<li class="chapter" data-level="9.3.2" data-path="press-resil.html"><a href="press-resil.html#pressures-matrix"><i class="fa fa-check"></i><b>9.3.2</b> Pressures matrix</a></li>
<li class="chapter" data-level="9.3.3" data-path="press-resil.html"><a href="press-resil.html#how-to-modify-pressures-matrix-and-categories-in-the-toolbox"><i class="fa fa-check"></i><b>9.3.3</b> How to modify Pressures Matrix and Categories in the Toolbox</a></li>
<li class="chapter" data-level="9.3.4" data-path="press-resil.html"><a href="press-resil.html#create-the-new-pressure-layers-and-save-in-the-layers-folder"><i class="fa fa-check"></i><b>9.3.4</b> Create the new pressure layers and save in the layers folder</a></li>
<li class="chapter" data-level="9.3.5" data-path="press-resil.html"><a href="press-resil.html#register-the-new-pressure-layers-in-layers.csv"><i class="fa fa-check"></i><b>9.3.5</b> Register the new pressure layers in layers.csv’</a></li>
<li class="chapter" data-level="9.3.6" data-path="press-resil.html"><a href="press-resil.html#register-in-pressures_categories.csv"><i class="fa fa-check"></i><b>9.3.6</b> Register in pressures_categories.csv</a></li>
<li class="chapter" data-level="9.3.7" data-path="press-resil.html"><a href="press-resil.html#register-in-pressures_matrix.csv"><i class="fa fa-check"></i><b>9.3.7</b> Register in pressures_matrix.csv</a></li>
<li class="chapter" data-level="9.3.8" data-path="press-resil.html"><a href="press-resil.html#identify-the-goals-affected-and-set-the-weighting"><i class="fa fa-check"></i><b>9.3.8</b> Identify the goals affected and set the weighting</a></li>
<li class="chapter" data-level="9.3.9" data-path="press-resil.html"><a href="press-resil.html#modify-config.r-for-goals-with-multiple-elements"><i class="fa fa-check"></i><b>9.3.9</b> Modify config.R for goals with multiple elements</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="press-resil.html"><a href="press-resil.html#resilience-1"><i class="fa fa-check"></i><b>9.4</b> Resilience</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="press-resil.html"><a href="press-resil.html#how-to-identify-and-quantify-resilience"><i class="fa fa-check"></i><b>9.4.1</b> How to identify and quantify resilience</a></li>
<li class="chapter" data-level="9.4.2" data-path="press-resil.html"><a href="press-resil.html#how-to-modify-resilience-matrix-and-categories-in-the-toolbox"><i class="fa fa-check"></i><b>9.4.2</b> How to modify Resilience Matrix and Categories in the Toolbox</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="calcs-advanced.html"><a href="calcs-advanced.html"><i class="fa fa-check"></i><b>10</b> Calculations: advanced workflow</a>
<ul>
<li class="chapter" data-level="10.1" data-path="calcs-advanced.html"><a href="calcs-advanced.html#overview-6"><i class="fa fa-check"></i><b>10.1</b> Overview</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="calcs-advanced.html"><a href="calcs-advanced.html#prerequisites-4"><i class="fa fa-check"></i><b>10.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="calcs-advanced.html"><a href="calcs-advanced.html#explore-goals.csv"><i class="fa fa-check"></i><b>10.2</b> Explore goals.csv</a></li>
<li class="chapter" data-level="10.3" data-path="calcs-advanced.html"><a href="calcs-advanced.html#round-1-poke-at-it-to-see-how-it-works"><i class="fa fa-check"></i><b>10.3</b> Round 1: Poke at it to see how it works</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="calcs-advanced.html"><a href="calcs-advanced.html#remove-a-goal-whole-row-in-goals.csv"><i class="fa fa-check"></i><b>10.3.1</b> Remove a goal (whole row) in goals.csv</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="calcs-advanced.html"><a href="calcs-advanced.html#round-2-break-it-to-see-how-it-works"><i class="fa fa-check"></i><b>10.4</b> Round 2: Break it to see how it works</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="calcs-advanced.html"><a href="calcs-advanced.html#change-preindex_function-goals.csv"><i class="fa fa-check"></i><b>10.4.1</b> Change <code>preindex_function</code> goals.csv</a></li>
<li class="chapter" data-level="10.4.2" data-path="calcs-advanced.html"><a href="calcs-advanced.html#add-a-new-goal-in-goals.csv"><i class="fa fa-check"></i><b>10.4.2</b> Add a new goal in goals.csv</a></li>
<li class="chapter" data-level="10.4.3" data-path="calcs-advanced.html"><a href="calcs-advanced.html#delete-a-goal-model-from-functions.r"><i class="fa fa-check"></i><b>10.4.3</b> Delete a goal model from <code>functions.r</code></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="calcs-advanced.html"><a href="calcs-advanced.html#adding-a-new-goal"><i class="fa fa-check"></i><b>10.5</b> Adding a new goal</a></li>
<li class="chapter" data-level="10.6" data-path="calcs-advanced.html"><a href="calcs-advanced.html#adding-subgoals"><i class="fa fa-check"></i><b>10.6</b> Adding subgoals</a></li>
<li class="chapter" data-level="10.7" data-path="calcs-advanced.html"><a href="calcs-advanced.html#modifying-subgoals"><i class="fa fa-check"></i><b>10.7</b> Modifying subgoals</a></li>
<li class="chapter" data-level="10.8" data-path="calcs-advanced.html"><a href="calcs-advanced.html#chapter-recap-3"><i class="fa fa-check"></i><b>10.8</b> Chapter recap</a></li>
<li class="chapter" data-level="10.9" data-path="calcs-advanced.html"><a href="calcs-advanced.html#changing-subgoals"><i class="fa fa-check"></i><b>10.9</b> Changing subgoals</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="calcs-advanced.html"><a href="calcs-advanced.html#update-goal-call-in-goals.csv"><i class="fa fa-check"></i><b>10.9.1</b> Update goal call in <code>goals.csv</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i><b>11</b> Reporting</a>
<ul>
<li class="chapter" data-level="11.1" data-path="reporting.html"><a href="reporting.html#flower-plots"><i class="fa fa-check"></i><b>11.1</b> Flower plots</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="websites.html"><a href="websites.html"><i class="fa fa-check"></i><b>12</b> Communication: OHI+ websites</a>
<ul>
<li class="chapter" data-level="12.1" data-path="websites.html"><a href="websites.html#overview-7"><i class="fa fa-check"></i><b>12.1</b> Overview</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="websites.html"><a href="websites.html#prerequisites-5"><i class="fa fa-check"></i><b>12.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="websites.html"><a href="websites.html#first-observations"><i class="fa fa-check"></i><b>12.2</b> First Observations</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="websites.html"><a href="websites.html#exploring-online"><i class="fa fa-check"></i><b>12.2.1</b> Exploring Online</a></li>
<li class="chapter" data-level="12.2.2" data-path="websites.html"><a href="websites.html#the-websites-gh-pages-branch"><i class="fa fa-check"></i><b>12.2.2</b> The website’s <code>gh-pages</code> branch</a></li>
<li class="chapter" data-level="12.2.3" data-path="websites.html"><a href="websites.html#get-the-websites-branch-on-your-computer"><i class="fa fa-check"></i><b>12.2.3</b> Get the website’s branch on your computer</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="websites.html"><a href="websites.html#basic-workflow"><i class="fa fa-check"></i><b>12.3</b> Basic Workflow</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ocean Health Index Toolbox Training</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="toolbox-ecosystem" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Toolbox Ecosystem</h1>
<div id="overview-2" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Overview</h2>
<p>Welcome to the OHI Toolbox, the engine behind all OHI assessments. The Toolbox is an ecosystem of R scripts and data files, organized in folders and sub-folders. The information in your repository will interact with an <code>R</code> package called <code>ohicore</code>, which does the core operations to calculate OHI scores.</p>
<p>In this chapter, we will learn how the Toolbox is structured - where you would store data, modify models, make calculations, as well as record decision-makings. The Toolbox ecosystem introduced here is the same in any assessment. So, if you would like to explore your own repository or an existing repository such as the <a href="http://github.com/OHI-Science/gye">Gulf of Guayaquil assessment</a> you can navigate through those repositories in the same way.</p>
<p>This tutorial will take roughly 30 minutes.</p>
<p>Let’s get started!</p>
</div>
<div id="prerequisites-1" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Prerequisites</h2>
<p>We will explore these files together on your own computer, but we will not be calculating scores in this chapter. If you will be using the Toolbox, please clone the repository to your computer with the following steps. You can clone either the toolbox-demo or your assessment’s repository. If you will not be calculating scores, you do not need to clone anything; please follow along online at GitHub <a href="https://github.com/OHI-Science/toolbox-demo" class="uri">https://github.com/OHI-Science/toolbox-demo</a> or with your assessment’s repository.</p>
<ol style="list-style-type: decimal">
<li>Have up-to-date versions of <code>R</code> and RStudio and have RStudio configured with Git/GitHub
<ul>
<li><a href="https://cloud.r-project.org" class="uri">https://cloud.r-project.org</a></li>
<li><a href="http://www.rstudio.com/download" class="uri">http://www.rstudio.com/download</a></li>
<li><a href="http://happygitwithr.com/rstudio-git-github.html" class="uri">http://happygitwithr.com/rstudio-git-github.html</a></li>
</ul></li>
<li>Fork the <strong>toolbox-demo</strong> repository into your own GitHub account by going to <a href="https://github.com/OHI-Science/toolbox-demo" class="uri">https://github.com/OHI-Science/toolbox-demo</a>, clicking “Fork” in the upper right corner, and selecting your account</li>
<li>Clone the <strong>toolbox-demo</strong> repo from your GitHub account into RStudio into a folder called “github” in your home directory (filepath “~/github”)</li>
<li>Get comfortable: be set up with two screens if possible. You will be following along in RStudio on your own computer while also watching an instructor’s screen or following this tutorial.</li>
</ol>
<p>Now you have set up your computer, let’s open the <code>toolbox-demo</code> repository on your computer, and go from there.</p>
</div>
<div id="repository-home-folder-ex-toolbox-demo" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Repository home folder (ex: <code>toolbox-demo</code>)</h2>
<p>When you first open the repository, you’ll encounter the following files and folders. <em>Note</em>: if you have a starter repository, you’ll have a <code>prep</code> folder but not a <code>scenario</code> folder (which is <code>region2016</code> in the screenshot below).</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vTWGVIHdpK5UirBr2prb1rjly7t0QQNygRCL8MnvBG4Sxw_eEZJyfCu423LFzNLQ316q27YToAMJGRA/pub?w=960&amp;h=720" /></p>
<p>Overall, all the main files you will see are either of the two file types:</p>
<ul>
<li><strong>.csv</strong> files contain data inputs or configuration information.</li>
<li><strong>.R</strong> or <strong>.Rmd</strong> scripts are written in the programming language R and use data inputs for processing and calculations.</li>
</ul>
<p>Among all the files on your screen, the most important files are:</p>
<ul>
<li><p><code>prep</code> is a data preparation folder. This is where you will store raw and/or intermediate data, and the R scripts you create to explore and format those data, and make trial runs of different models. You will spend roughly the first half of your time during your assessment here.</p></li>
<li><p><code>region2016</code> is the scenario folder. The scenario folder has the architecture of the OHI Toolbox that is needed to calculate scores. It contains all of the inputs needed to calculate OHI scores, and you will modify these inputs when conducting your assessment. By default it is named regionYEAR (e.g. cnc2016 for New Caledonia 2016) to indicate that the assessment is conducted at the region scale (province, state, district, etc.), based on input layers and goal models used in the most recent global assessment (e.g. 2016).</p></li>
<li><p><code>README.md</code> file accompanys most folders or files, as you will discover. It is a place to take notes for yourself, your team, and thinking ahead to anyone interested in the future.</p></li>
</ul>
<p>Let’s take a closer look at the <code>prep</code> and <code>region2016</code> folders.</p>
</div>
<div id="prep-folder" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Prep folder</h2>
<p>Click on <code>prep</code> and let’s see what is inside:</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vRC6jKA-cwwnCDck_pGDgYjN4uA13E9a2PyFqrE-HJbQa9EIclOLLARFmYNYMyaHfdkOcaIlCXgTCSh/pub?w=960&amp;h=720" /></p>
<p>Within <code>prep</code>, there is a sub-folder for each goal and subgoal, as well as pressures and resilience. These folders are meant to help you be organized and promote scripting for data preparation (<a href="https://www.nature.com/articles/s41559-017-0160">this is important for reproducibility and repeatability</a>). Note that some goals depend on the same data and thus data can be prepared into layers from one place instead of for each goal. This is the case for goals dependent on habitat data: CP, CS, HAB, and goals dependent on species data: SPP, ICO.</p>
<p>Click on the ‘CW’ folder. Within each goal folder, there are typically a <em>.Rmd</em> script and a sub-folder to contain data.</p>
<p>The <code>CW_data_prep.Rmd</code> document is a script where you will explore your raw data, format the data, try different models, make graphs and maps, as well as document decision making. We will come back to this script in Chapter <a href="prep-data.html#prep-data">7</a> to learn how to prepare data for calculations.</p>
<p>We use RMarkdown (.Rmd) files because they can be rendered as webpages (for example, <code>CW_data_prep.html</code> in the same CW folder) and can help explain the data processing steps and motivation behind them in written language. Click ‘Knit’ from the RStudio editor or click on the <code>.html</code> file from the file pane and select ‘View in web browser,’ and you will see a clean, human-readable webpage that can be shared online and viewed by anyone.</p>
<p><em>Now we’ve walked through the prep folder, let’s take a look at the scenario folder. Click back to the main <code>toolbox-demo</code> folder, and open the <code>region2016</code> folder.</em></p>
</div>
<div id="scenario-folder-ex-region2016" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Scenario folder (ex: <code>region2016</code>)</h2>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vT9zIRR6AsCOHwSyuDtQBBurQ2YRo4TpRlkrO6j193ldSZN9FuAkm70mqYPJrVSzeLUokCn4CcOmpkm/pub?w=960&amp;h=720" /></p>
<p>Again, this scenario folder contains all the data layers and scripts for you to calculate OHI scores. Let’s look into the sub-folders and see what they do.</p>
<div id="layers-folder-layers.csv" class="section level3" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> layers folder &amp; layers.csv</h3>
<p>After you prepared your data layers in the <code>prep</code> folder, you will save them in the <code>layers</code> folder, and register them in <code>layers.csv</code>. (You will learn how to do so in Chapter <a href="prep-data.html#prep-data">7</a>).</p>
<p>The <code>layers</code> folder contains individual data layers as .csv files for each goal and subgoal, named in a specific manner for easy organization and recognition, as shown here.</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vTVEC9P0g1mBsK3lFPKsl9P-RwrG0ivJdEKEa5dblQMieiVVOg5ujDG1h9_90MRnWzY4ESDAuwGzbqh/pub?w=960&amp;h=720" /></p>
<p><code>layers.csv</code> is a data registry for all the data layers in the layers folder. It is also a directory for <code>ohicore</code> to find the exact data layers for calculations. The file itself is spreadsheet that is best to be opened in a spreadsheet editor such as Microsoft Excel.</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vTtkW28E2W125z8302VIvKen-bp6sIOFHS6Kbp8CcaItEjVhlqf3GCGviJKtgLVaNu6Z2m2tvD4U8ka/pub?w=960&amp;h=720" /></p>
</div>
</div>
<div id="conf-folder" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> conf folder</h2>
<p>The <code>conf</code> folder includes important configuration files required to calculate OHI scores, as shown here. These are the model parameters that the Toolbox needs to calculate scores, along with your prepared data layers.</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vTuZY4xoL1urgQSYtv093jxpneudRZmebIhW9C8JAuWOpS940Q2yP9kzVeaBwj_ajD2GTsBylLnkzD1/pub?w=960&amp;h=720" /></p>
<p>Most of the maneuvering in the Conduct phase of the assessment is done within this folder.
There are both .R scripts and .csv files. We will investigate them in the order you will interact with them.</p>
<div id="functions.r" class="section level3" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> functions.R</h3>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vS2ePP1saxdgCYsy7bC1UxlwiJCyHgzIj-zDdKLrRWKzecp7NI8aRoZOsPddCwTb6RADiZ9xji-RzQx/pub?w=960&amp;h=720" /></p>
<p><strong><code>functions.R</code> contains models to calculate goal status and trend for all goal and sub-goals</strong>. Much of your time will be spent here developing goal models to calculate status and trend with the data layers you prepared.</p>
<p>Each goal and sub-goal equation is stored as a separate function within the script, identified by a 2- or 3- letter code. These functions calculate the status and trend using prepared layers saved in the <code>layers</code> folder and registered in layers.csv.</p>
<!--- info about the rest of the conf files are modified from the manual --->
</div>
<div id="scenario_data_years.csv" class="section level3" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> scenario_data_years.csv</h3>
<p>This file organizes year information for each layer. OHI assessments use the most recent data available, but which year is most recent will vary from data set to data set. <code>scenario_data_years.csv</code> acts like a registry to help keep track of all these years. When you calculate OHI scores, you will be explicit about the year your completed assessment will represent, and we call this the “scenario year.”</p>
<p>This file also makes it possible for the Toolbox to calculate repeated assessments.</p>
<p>This file has 3 columns: the <code>layer_name</code>, the year your assessment represents, called the <code>scenario_year</code>, and the most recent year of data, called <code>data_year</code>.</p>
<p>Let’s have a look:</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vRKNI4Xi6gxgCPGiW0P22KYYcedAg7CDA_3pM44tR9-oKq-PF7AoVPGX7SnqPZquA2C58zAqPQxVPmO/pub?w=960&amp;h=480" /></p>
<p>You can see that for each layer, the <code>data_year</code> is associated with a <code>scenario_year</code>. In the example above, the data from the <code>ao_access</code> layer have never been updated so we use the same data year for each scenario year, which is therefore repeated in the <code>data_year</code> column. But for the <code>ao_need</code> layer, many years of data are available, but there is a lag time for which year of data corresponds to which scenario year.</p>
</div>
<div id="pressures-resilience" class="section level3" number="6.6.3">
<h3><span class="header-section-number">6.6.3</span> pressures &amp; resilience</h3>
<p>There are four .csv files relating to pressures and resilience.</p>
<ul>
<li>pressures_categories.csv</li>
<li>pressures_matrix.csv</li>
<li>pressures_categories.csv</li>
<li>pressures_matrix.csv</li>
</ul>
<p>They are spreadsheets that are best opened with Excel.</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vQDM2iViRuigEadiGHhoG1CV_5DAvowpDZI4qTR7jZbg7-0QXfHxDJHjgxN2Z4g4bBTCQNknMkG_qiT/pub?w=960&amp;h=720" /></p>
<p>Pressures and Resilience are two of the four dimensions used to evaluate each goal or sub-goal, along with goal status and trend that you calculate in <code>functions.R</code>. More details on how to operate with these files are explained in future chapters.</p>
<p><strong>pressures_categories.csv</strong></p>
<p>This is a table to record the name of each pressures data layer, its category, and sub-category. Each data layer name is the same name that is saved in the layers folder and is registered in layers.csv. Each layer falls under one of two categories - ecological or social pressures, and one of several sub-categories to further represent the origin of the pressure (e.g. climate change, fishing, etc), which is also indicated by a prefix of each data layer name (for example: po_ for the pollution sub-category).</p>
<p><strong>pressures_matrix.csv</strong></p>
<p>This is a table that indicates which individual pressures (stressors) affect which goal, sub-goals, or components, and weights them from 1-3. A weight of 0 is shown as a blank. A higher weight indicates more negative impacts on that goal or component of the goal. These weights are relative to each row of the matrix (goal, sub-goal, or component). These weights are used in global assessments based on scientific literature and expert opinion, and you can modify the weightings if necessary for your assessment. The pressures matrix is the same as Table S25 in Halpern et al. 2012, with current and detailed information in the online <a href="https://rawgit.com/OHI-Science/ohi-global/draft/global_supplement/Supplement.html#432_pressure">OHI-Global supplemental information</a> document.</p>
<p>Each pressure (column) of the pressures matrix is the layer name of the pressures layer file that is saved in the layers folder and is registered in layers.csv, matching what’s recorded in the pressures_categories.csv.</p>
<p><strong>resilience_categories.csv</strong></p>
<p>Similar to pressures_categories.csv, this file contains information on each resilience data layer, including its name, category, and sub-category. Each resilience layer’s name is the same as the data layer to be saved in the layers folder and is registered in layers.csv. In addition, it also includes information on category type - ecosystem, regulatory, or social, indicating the origin of the resilience layer.</p>
<p>Each resilience layer is also assigned a weight of 0-1, representing the level of resilience against pressures. Different from the values used in pressures matrix, the resilience weights depend on the level of information available.</p>
<p><strong>resilience_matrix.csv</strong></p>
<p>This is a table that indicates which individual resilience measures affect which goal, sub-goals, or components. The resilience matrix is the same as Table S26 from Halpern et al. 2012, with current and detailed information in the online <a href="https://rawgit.com/OHI-Science/ohi-global/draft/global_supplement/Supplement.html#433_resilience">OHI-Global supplemental information</a> document.</p>
</div>
<div id="goals.csv" class="section level3" number="6.6.4">
<h3><span class="header-section-number">6.6.4</span> goals.csv</h3>
<p><code>goals.csv</code> is another spreadsheet file that is best opened in Excel.</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vRa9TITgRU9zHHMnbUtMqkIQM-RDCarFa9th-v3_zq_W1kResrS75JEgn39fN3C8EMpqe7OaZD7M7sZ/pub?w=960&amp;h=720" /></p>
<p><code>goals.csv</code> has information about goals and sub-goals, and controls which goals are calculated, and how they are represented in figures. If a goal exists in this list, it will be calculated, and needs an accompanying function in <code>functions.r</code>. <strong>You will likely only modify this file if you are removing or adding goals or sub-goals, or changing the weighting for how goals are combined</strong>.</p>
<p>Here are the columns within <code>goals.csv</code>:</p>
<ul>
<li>order_color &amp; order_hierarchy: the order to display in flower plots</li>
<li>order_calculate: the order in which the goals and sub-goals are calculated for the overall Index scores</li>
<li>goal &amp; parent: indicates the relationship between sub-goals and supra-goals (i.e. goals - with sub-goals)</li>
<li>weight: the relative weight of each goal to calculate overall Index scores</li>
<li>preindex_function: indicate what parameters are called to calculate scores for goals and - sub-goals in functions.R</li>
<li>postindex_function: indicate what parameters are called to calculate scores for supra-goals in functions.R</li>
</ul>
</div>
<div id="config.r" class="section level3" number="6.6.5">
<h3><span class="header-section-number">6.6.5</span> config.R</h3>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vSmsay5W22clkc4XXknNILZxE5j88wjMuVNIovcyhX2RqiPqDTehKZr-oUkviozWawJF3ybCc81YS9t/pub?w=960&amp;h=720" /></p>
<p><code>config.R</code> configures labeling and constants appropriately. You will only need to modify this file when working with goals that have categories (example: habitat types or economy sectors) that are affected differently by pressures and resilience measures.</p>
</div>
<div id="conf-folder-recap" class="section level3" number="6.6.6">
<h3><span class="header-section-number">6.6.6</span> conf folder recap</h3>
<p>We have just explored the files in the <code>conf</code> folder. To recap, the <code>conf</code> folder contains important configuration files required to calculate OHI scores, including functions.R, scenario_data_years.csv, and pressures and resilience files. Now let’s take a step back to the <code>region2016</code> folder, and check out what else is there.</p>
</div>
</div>
<div id="calculate_scores.rmd" class="section level2" number="6.7">
<h2><span class="header-section-number">6.7</span> calculate_scores.Rmd</h2>
<p><em>Note: <code>calculate_scores.Rmd</code> replaces three files that existed in previous versions of the Toolbox: <code>calculate_scores.R</code>, <code>configure_toolbox.R</code>, and <code>install_ohicore.R</code>. We collapsed those three files into one .Rmd file to simplify the workflow, although they still function correctly as individuals if your repository has them as three separate files. You can find information about these three files below.</em></p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vTeKKHmsK8hy6kICeJ-tAZsvBy_QqAeYdn7JcthxM4AbCeJDcpZ8UhHnGMXdy1DcJBfF0IJrpFFSKke/pub?w=960&amp;h=720" /></p>
<p><code>calculate_scores.Rmd</code> is the code and workflow to calculate OHI scores. It enables the information in your repository to interact with an <code>R</code> package called <code>ohicore</code>, which does the core operations to calculate OHI scores. This Rmd will install the <code>ohicore</code> package at the beginning of your assessment, and then call it as a library after that.</p>
<p>Whenever you change any data in <code>layers</code>, modify models in <code>functions.R</code>, and make changes to pressures and resilience, you could run code from this file and see how the OHI scores change. Scores will be saved in scores.csv.</p>
<div id="calculate_scores.r" class="section level3" number="6.7.1">
<h3><span class="header-section-number">6.7.1</span> calculate_scores.R</h3>
<p><em>Note: depreciated, see calculate_scores.Rmd section above. This script used to be inside the repository’s scenario folder.</em></p>
<p><code>calculate_scores.R</code> is a script you’ll come to use often. As the name tells us, it is a script to calculate OHI scores. Whenever you change any data in<code>layers</code>, modify models in <code>functions.R</code>, and make changes to pressures and resilience, you could run this script and see how the OHI scores change.</p>
<p>This script runs everything required to calculate OHI scores using the prepared layers the layers folder that are registered in layers.csv. Scores will be saved in scores.csv.</p>
</div>
<div id="configure_toolbox.r" class="section level3" number="6.7.2">
<h3><span class="header-section-number">6.7.2</span> configure_toolbox.R</h3>
<p><em>Note: depreciated, see calculate_scores.Rmd section above. This script used to be inside the repository’s scenario folder.</em></p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vSfm3eOmTbowpx1e2zUYIz08a_aWW16fhVhnH47AUz4GZZEsJMtTR4Flplx-5Wwex0TG31PoGy4E5nA/pub?w=960&amp;h=720" /></p>
<p>This script does the pre-checks before running goal models and calculate scores. It loads <code>ohicore</code>, calls all goal functions and data layers in the “conf” folder, and check that all data layers are registered properly. You are encouraged to use this script when you’re working on individual goal models. After you register data layers for a goal, or make any changes to the data layers, source this script before running model-specific functions in functions.R.</p>
</div>
<div id="install_ohicore.r" class="section level3" number="6.7.3">
<h3><span class="header-section-number">6.7.3</span> install_ohicore.R</h3>
<p><em>Note: depreciated, see calculate_scores.Rmd section above. This script used to be inside the repository’s home folder.</em></p>
<p><code>ohicore</code> is the backbone software package of the Toolbox. It is a <code>R</code> package of functions that contain all the core operations for the data and models that you provide for your assessment, and it will calculate OHI scores. You don’t need to interact with or see the inside of <code>ohicore</code> yourself during the assessment, but you do need to install this software package once at the start of your assessment by running this script.</p>
</div>
<div id="recap" class="section level3" number="6.7.4">
<h3><span class="header-section-number">6.7.4</span> Recap</h3>
<p>The OHI Toolbox is a ecosystem of data layers and scripts, contained in folders and their sub-folders.</p>
<p>The information in your repository will interact with an <code>R</code> package called <code>ohicore</code>, which does the core operations to calculate OHI scores. You will need to install this package at the beginning of your assessment, and then call it as a library after that.</p>
<p>As you begin your assessment, you will spend most of your time in <code>prep</code> folder, where you upload, explore, and format your data layers to be saved in the scenario folder <code>region2016</code> for the next step of calculations.</p>
<p><code>region2016</code> is a folder with all the data layers, files, and scripts you’ll need to calculate scores. There you will register finished data layers, modify goal models, modify pressures and resilience, calculate OHI scores, and make flowerplots.</p>
<p>Now we have walked thorugh the files, how do they fit into the OHI process? Below is a figure that summarizes how each file will be used in relation to the steps you would take in an assessment for future reference.</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vRlYbRI6_ljU7FYP3RivcR5Pvz04cx00Fpq_tflrSN8loS46YtI3DbqyBwZ_OI68IvWCZzWl8HsqX3u/pub?w=960&amp;h=600" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="toolbox.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="prep-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
